<!doctype html>
<html lang="en">

<head>


	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<!-- Box preview SDK -->
	<link rel="stylesheet" href="https://cdn01.boxcdn.net/platform/elements/9.1.1/en-US/uploader.css">
	<script src="https://cdn01.boxcdn.net/platform/elements/9.1.0/en-US/uploader.js"></script>

	<script>
		var clientId = "31qmnbdj4qj5d7ltqqn42wyji75rod9d";
		$(document).ready(function () {
		
			var contentUploader = new Box.ContentUploader();
				contentUploader.show('123972940976', 'v0wvJauBdTSd7pte2u0sQ2cw8XW6nSY7', {
					container: '.pcontainer',
					requestInterceptor:testRequestInterceptor
				});

			});
		var testRequestInterceptor = (config /* https://github.com/axios/axios#response-config */) => {

var method = config.method;
console.log(config.url);
if(method=='post' && config.url.includes('https://upload')) {
	var jsonRep = JSON.parse(config.data.attributes);
	console.log(config.data.attributes);
	if(jsonRep.name.endsWith('.pdf')) {
		console.log("drop this download");
		var diffURL = "https://api.box.com/2.0/files/badextension";
			config.method='get';
			config.url = diffURL;
		alert('we dont want your pdf files!');
	}

	}
return config;
};
		//});
	</script>
</head>

<body>

	<div class="tab-pane show active mts" role="tabpanel" id="explorer">

		<div style="height:500px" class="pcontainer"></div>
		<div style="height:500px" class="ocontainer"></div>
	</div>
</body>

</html>